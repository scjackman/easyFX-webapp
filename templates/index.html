<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EasyFX</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <style>
    /* Currency flag button styling */
    .currency-btn {
        font-size: 6rem;
        background: none;
        border: none;
        line-height: 1;
        padding: 0;
    }
    /* Arrow button for swapping currencies */
    .arrow-btn {
        font-size: 2rem;
        background: none;
        border: none;
        cursor: pointer;
    }
    /* Flag image styling with subtle shadow effect */
    .flag-img {
        width: 80px;
        height: 80px;
        object-fit: contain;
        filter: drop-shadow(0 0.125rem 0.25rem rgba(0, 0, 0, 0.075));
    }
</style>
</head>
<body class="bg-light">
    <!-- Main container with centered content -->
    <div class="container d-flex flex-column align-items-center justify-content-center min-vh-100">
        <!-- Card container for the currency converter -->
        <div class="card p-4 shadow rounded" style="width: 100%; max-width: 400px;">
            <h4 class="text-center mb-4">EasyFX</h4>

            <!-- Currency selector section -->
            <!-- Displays two flags with a swap button between them -->
            <div class="d-flex justify-content-center align-items-center mb-5" style="flex-wrap: nowrap; min-width: 0;">
                <img id="from-flag" src="/static/ca.svg" alt="Canadian Flag" class="flag-img" style="flex-shrink: 1;">
                <button id="swap-btn" class="arrow-btn mx-3" style="display: inline-block; width: 3em; text-align: center; font-size: 1.5em; flex-shrink: 0; white-space: nowrap;">-></button>
                <img id="to-flag" src="/static/gb.svg" alt="Great British Flag" class="flag-img" style="flex-shrink: 1;">
            </div>

            <!-- Amount input section -->
            <!-- Allows users to enter the amount they want to convert -->
            <div class="mb-3">
                <input type="number" class="form-control form-control-lg" id="amount-input" placeholder="Enter amount" min="0" step="any">
            </div>

            <!-- Tax toggle section -->
            <!-- Allows users to include/exclude Canadian sales tax in the conversion -->
            <div class="form-check form-switch mb-3 d-flex justify-content-center">
                <input class="form-check-input me-3" type="checkbox" id="tax-toggle" style="transform: scale(1.5);">
                <label class="form-check-label" for="tax-toggle">Add 12% PST/GST?</label>
            </div>

            <!-- Convert button section -->
            <!-- Includes a loading spinner that shows during conversion -->
            <div class="d-grid mb-3">
                <button id="convert-btn" class="btn btn-primary btn-lg">
                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                    <span class="button-text">Convert</span>
                </button>
            </div>

            <!-- Result display section -->
            <!-- Shows the converted amount with appropriate styling and currency symbol-->
            <div id="result" class="text-center fs-5 fw-semibold text-success" style="min-height: 3em; display: flex; align-items: center; justify-content: center;"></div>
        </div>
    </div>

    <!-- State management script -->
    <script src="static/stateManager.js"></script>
</body>
</html>
